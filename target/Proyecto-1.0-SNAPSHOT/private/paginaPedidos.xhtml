<?xml version="1.0" encoding="US-ASCII" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
       xmlns:f="http://xmlns.jcp.org/jsf/core"
       xmlns:p="http://primefaces.org/ui"
       xmlns:pe="http://primefaces.org/ui/extensions">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js" type="javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" type="javascript"></script>
<link rel="stylesheet" href="style/style.css"/>
<h:head>
    <title>Gestionar Pedidos</title>

</h:head>
<h:body styleClass="modal-body text-center">
    <h:outputLabel style="display: none" value="#{pedidoBean.cookie}"/>
    <div class="navbar navbar-light bg-light justify-content-between">
        <p:graphicImage value=""/>
        <a class="navbar-brand">Pedidos</a>
        <h:form>
            <h:commandLink action="#{pedidoBean.redirectFacturas}" styleClass="btn btn-success" value="Regresar!"/>
            <p:commandLink action="#{pedidoBean.cerrarSesion}" styleClass="btn btn-danger" style="margin-left: auto" value="Cerrar Sesion"/>
        </h:form>
    </div>
    <h3>Pedidos</h3>
    <h:outputText id="mensaje" value="#{pedidoBean.msj}" />
    <h:form>
        <h:dataTable value="#{pedidoBean.rowPedidos}" var="p"  styleClass="table table-bordered table-hover">
            <h:column>
                <f:facet name="header">Id</f:facet>#{p.pedido.codigo}</h:column>
            <h:column>
                <f:facet name="header">Estado</f:facet>

                <h:outputText value="#{p.pedido.estado}" />
            </h:column>
            <h:column>
                <f:facet name="header">Fecha Emision</f:facet>

                <h:outputText value="#{pedidoBean.formatDate(p.pedido.fecha_emision)}"  />
            </h:column>

            <h:column>
                <f:facet name="header">Cambiar Estado</f:facet>
                <h:selectOneMenu value="#{p.estadoSelect}" id="idRoles">
                    <f:selectItems value="#{p.estados}"/>

                </h:selectOneMenu>
            </h:column>
            <h:column>
                <f:facet name="header">Accion</f:facet>
                <h:commandLink value="Edit" action="#{pedidoBean.edit(p)}"  />

            </h:column>

        </h:dataTable>
    </h:form>
</h:body>
</html>